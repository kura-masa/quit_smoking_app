# ç¦ç…™ãƒãƒ£ãƒ¬ãƒ³ã‚¸ - 30æ—¥é–“ã§æ–°ã—ã„è‡ªåˆ†ã«

ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¦ç´ ã‚’å–ã‚Šå…¥ã‚ŒãŸã€æ¥½ã—ã„é›°å›²æ°—ã®ç¦ç…™ã‚µãƒãƒ¼ãƒˆWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯30æ—¥é–“ã®ç¦ç…™ç›®æ¨™ã‚’è¨­å®šã—ã€å¤±æ•—ã—ãŸå ´åˆã¯è‡ªèº«ã®Twitterã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã€Œå¤±æ•—å ±å‘Šã€ãŒè‡ªå‹•æŠ•ç¨¿ã•ã‚Œã‚‹ã¨ã„ã†ç¤¾ä¼šçš„ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã‚’åˆ©ç”¨ã—ã¦ã€ç¦ç…™ç¶™ç¶šã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç¶­æŒã—ã¾ã™ã€‚

## ğŸ¯ ä¸»ãªæ©Ÿèƒ½

### âœ¨ ã‚³ã‚¢æ©Ÿèƒ½
- **Twitterèªè¨¼**: ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ãƒ»ãƒ­ã‚°ã‚¤ãƒ³
- **30æ—¥é–“ãƒãƒ£ãƒ¬ãƒ³ã‚¸**: æ˜ç¢ºãªç›®æ¨™è¨­å®šã§ç¦ç…™ã‚’ç¿’æ…£åŒ–
- **ãƒšãƒŠãƒ«ãƒ†ã‚£è¨­å®š**: å¤±æ•—æ™‚ã®æ¥ãšã‹ã—ã„ãƒ„ã‚¤ãƒ¼ãƒˆå†…å®¹ã‚’äº‹å‰è¨­å®š
- **è‡ªå‹•ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼**: æ¯æ—¥åˆå‰8æ™‚ã«é€²æ—ãƒ„ã‚¤ãƒ¼ãƒˆã‚’è‡ªå‹•æŠ•ç¨¿
- **è‡ªå‹•å¤±æ•—åˆ¤å®š**: ç¿Œæ—¥åˆå‰4æ™‚ã¾ã§ã«å ±å‘ŠãŒãªã„å ´åˆã€ãƒšãƒŠãƒ«ãƒ†ã‚£ãƒ„ã‚¤ãƒ¼ãƒˆã‚’å®Ÿè¡Œ

### ğŸ® ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¦ç´ 
- **é€²æ—ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼**: 30æ—¥é–“ã®æˆåŠŸãƒ»å¤±æ•—ã‚’è¦–è¦šçš„ã«è¡¨ç¤º
- **ãƒãƒƒã‚¸ã‚·ã‚¹ãƒ†ãƒ **: ç¶™ç¶šæ—¥æ•°ã«å¿œã˜ã¦ãƒ–ãƒ­ãƒ³ã‚ºãƒ»ã‚·ãƒ«ãƒãƒ¼ãƒ»ã‚´ãƒ¼ãƒ«ãƒ‰ãƒ»ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ãƒãƒƒã‚¸ã‚’ç²å¾—
- **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³**: æˆåŠŸå ±å‘Šæ™‚ã®ç´™å¹é›ªã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚„æ¥½ã—ã„ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³
- **çµ±è¨ˆè¡¨ç¤º**: ç¶™ç¶šæ—¥æ•°ã€æˆåŠŸç‡ã€ç²å¾—ãƒãƒƒã‚¸æ•°ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Next.js 14 (App Router) + TypeScript
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: Tailwind CSS + Framer Motion
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Firebase
  - Authentication (Twitterèªè¨¼)
  - Firestore (ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹)
  - Functions (è‡ªå‹•æŠ•ç¨¿ãƒ»ãƒãƒƒãƒå‡¦ç†)
  - Hosting (Webã‚¢ãƒ—ãƒªãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°)
- **å¤–éƒ¨API**: Twitter API v2

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. å‰ææ¡ä»¶
- Node.js 18ä»¥ä¸Š
- Firebase CLI
- Twitter Developer Account

### 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone <repository-url>
cd quit-smoking-challenge
npm install
```

### 3. Firebaseè¨­å®š
```bash
# Firebase CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®å ´åˆï¼‰
npm install -g firebase-tools

# Firebaseã«ãƒ­ã‚°ã‚¤ãƒ³
firebase login

# Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆæœŸåŒ–
firebase init
```

### 4. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
`.env.local.example`ã‚’å‚è€ƒã«`.env.local`ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®å€¤ã‚’è¨­å®šï¼š

```env
# Firebase Configuration
NEXT_PUBLIC_FIREBASE_API_KEY=your_api_key_here
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
NEXT_PUBLIC_FIREBASE_APP_ID=your_app_id

# App Configuration
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

### 5. Firebase Functionsè¨­å®š
```bash
cd functions
npm install

# Twitter APIè¨­å®š
firebase functions:config:set twitter.api_key="your_twitter_api_key"
firebase functions:config:set twitter.api_secret="your_twitter_api_secret"
firebase functions:config:set app.url="https://your-app-domain.com"
```

### 6. Twitter Developerè¨­å®š
1. [Twitter Developer Portal](https://developer.twitter.com/)ã§ã‚¢ãƒ—ãƒªã‚’ä½œæˆ
2. OAuth 1.0aè¨­å®šã‚’æœ‰åŠ¹åŒ–
3. Callback URLã‚’è¨­å®š: `https://your-project.firebaseapp.com/__/auth/handler`
4. Read and Writeæ¨©é™ã‚’è¨­å®š

### 7. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```bash
# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
npm run dev

# Firebase Functionsï¼ˆåˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼‰
cd functions
npm run serve
```

## ğŸ“± ä½¿ã„æ–¹

### 1. ãƒãƒ£ãƒ¬ãƒ³ã‚¸é–‹å§‹
1. Twitterã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
2. ã€Œãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚’é–‹å§‹ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
3. å¤±æ•—æ™‚ã«æŠ•ç¨¿ã•ã‚Œã‚‹å®Ÿåã‚’è¨­å®š
4. æŠ•ç¨¿å†…å®¹ã‚’ç¢ºèªã—ã¦ãƒãƒ£ãƒ¬ãƒ³ã‚¸é–‹å§‹

### 2. æ—¥ã€…ã®å ±å‘Š
1. æ¯æœ8æ™‚ã«ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ãƒ„ã‚¤ãƒ¼ãƒˆãŒè‡ªå‹•æŠ•ç¨¿ã•ã‚Œã‚‹
2. ãƒ„ã‚¤ãƒ¼ãƒˆå†…ã®ãƒªãƒ³ã‚¯ã‹ã‚‰æˆåŠŸå ±å‘Šãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹
3. ã€Œä»Šæ—¥ã®ç¦ç…™ã‚‚æˆåŠŸï¼ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å ±å‘Š

### 3. ç¶™ç¶šã¨ã‚´ãƒ¼ãƒ«
- 30æ—¥é–“é€£ç¶šã§æˆåŠŸå ±å‘Šã‚’è¡Œã†ã¨ãƒãƒ£ãƒ¬ãƒ³ã‚¸å®Œäº†
- å ±å‘Šã‚’å¿˜ã‚Œã‚‹ã¨è‡ªå‹•çš„ã«ãƒšãƒŠãƒ«ãƒ†ã‚£ãƒ„ã‚¤ãƒ¼ãƒˆãŒæŠ•ç¨¿ã•ã‚Œã‚‹
- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§é€²æ—ã¨ãƒãƒƒã‚¸ã‚’ç¢ºèª

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ 
```
users/
  {userId}/
    - uid: string
    - twitterId: string
    - screenName: string
    - displayName: string
    - profileImageUrl: string
    - accessToken: string (æš—å·åŒ–æ¨å¥¨)
    - accessTokenSecret: string (æš—å·åŒ–æ¨å¥¨)
    - createdAt: timestamp

challenges/
  {challengeId}/
    - userId: string
    - realName: string
    - startDate: timestamp
    - status: 'active' | 'completed' | 'failed'
    - currentDay: number
    - createdAt: timestamp
    - completedAt?: timestamp
    - failedAt?: timestamp

successLogs/
  {challengeId}_{YYYY-MM-DD}/
    - challengeId: string
    - date: string (YYYY-MM-DD)
    - reportedAt: timestamp
```

### Firebase Functions
- `sendDailyReminder`: æ¯æ—¥åˆå‰8æ™‚ã«é€²æ—ãƒ„ã‚¤ãƒ¼ãƒˆé€ä¿¡
- `checkFailuresAndExecutePenalty`: æ¯æ—¥åˆå‰4æ™‚ã«å¤±æ•—åˆ¤å®šã¨ãƒšãƒŠãƒ«ãƒ†ã‚£å®Ÿè¡Œ

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- Firestore Security Rulesã§ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶é™
- Twitter OAuth ãƒˆãƒ¼ã‚¯ãƒ³ã®å®‰å…¨ãªä¿å­˜
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è‡ªåˆ†ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- CSRFæ”»æ’ƒå¯¾ç­–

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤

### 1. ãƒ“ãƒ«ãƒ‰
```bash
npm run build
npm run export
```

### 2. Firebase Deploy
```bash
# Functions
firebase deploy --only functions

# Hosting
firebase deploy --only hosting

# å…¨ä½“
firebase deploy
```

## ğŸ“ˆ ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

- [ ] ç”»åƒãƒ»å‹•ç”»æŠ•ç¨¿æ©Ÿèƒ½
- [ ] å‹é”ã¨ã®ãƒãƒ£ãƒ¬ãƒ³ã‚¸å…±æœ‰
- [ ] ã‚ˆã‚Šè©³ç´°ãªçµ±è¨ˆã¨ã‚°ãƒ©ãƒ•
- [ ] ã‚«ã‚¹ã‚¿ãƒ ãƒãƒƒã‚¸ã‚·ã‚¹ãƒ†ãƒ 
- [ ] ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥
- [ ] å¤šè¨€èªå¯¾å¿œ

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add some amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ™ è¬è¾

- [Firebase](https://firebase.google.com/) - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹
- [Next.js](https://nextjs.org/) - Reactãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- [Tailwind CSS](https://tailwindcss.com/) - CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- [Framer Motion](https://www.framer.com/motion/) - ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- [Lucide React](https://lucide.dev/) - ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

---

å¥åº·çš„ãªç”Ÿæ´»ã¸ã®ç¬¬ä¸€æ­©ã‚’ã€æ¥½ã—ãç¶™ç¶šã§ãã‚‹ã‚ˆã†ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ï¼ ğŸš­âœ¨